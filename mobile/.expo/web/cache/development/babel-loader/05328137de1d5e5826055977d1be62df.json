{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport { StyledComponent as _StyledComponent } from \"nativewind\";\nimport { useState } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Feather } from '@expo/vector-icons';\nimport { BackButton } from \"../components/BackButton\";\nimport { CheckBox } from \"../components/CheckBox\";\nimport colors from \"tailwindcss/colors\";\nimport { api } from \"../lib/axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar availableWeekDays = ['Domingo', 'Segunda-Feira', 'Terça-Feira', 'Quarta-Feira', 'Quinta-Feira', 'Sexta-Feira', 'Sábado'];\nexport function New() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    title = _useState2[0],\n    setTitle = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    weekDays = _useState4[0],\n    setWeekDays = _useState4[1];\n  function handleToggleWeekDay(weekDayIndex) {\n    if (weekDays.includes(weekDayIndex)) {\n      setWeekDays(function (prevState) {\n        return prevState.filter(function (weekDay) {\n          return weekDay !== weekDayIndex;\n        });\n      });\n    } else {\n      setWeekDays(function (prevState) {\n        return [].concat(_toConsumableArray(prevState), [weekDayIndex]);\n      });\n    }\n  }\n  function handleCreateNewHabit() {\n    return _handleCreateNewHabit.apply(this, arguments);\n  }\n  function _handleCreateNewHabit() {\n    _handleCreateNewHabit = _asyncToGenerator(function* () {\n      try {\n        if (!title.trim() || weekDays.length === 0) {\n          Alert.alert('Erro ao criar', 'Informe o nome do hábito e escolha a periodicidade.');\n        }\n        yield api.post('/habits', {\n          title: title,\n          weekDays: weekDays\n        });\n        setTitle('');\n        setWeekDays([]);\n        Alert.alert('Novo hábito', 'Hábito criado com sucesso!');\n      } catch (error) {\n        console.log(error);\n        Alert.alert('Ops', 'Não foi possível criar o novo hábito.');\n      }\n    });\n    return _handleCreateNewHabit.apply(this, arguments);\n  }\n  return _jsx(_StyledComponent, {\n    className: \"flex-1 bg-background px-8 pt-16\",\n    component: View,\n    children: _jsxs(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      contentContainerStyle: {\n        paddingBottom: 100\n      },\n      children: [_jsx(BackButton, {}), _jsx(_StyledComponent, {\n        className: \"mt-6 text-white font-extrabold text-3xl\",\n        component: Text,\n        children: \"Criar h\\xE1bito\"\n      }), _jsx(_StyledComponent, {\n        className: \"mt-6 text-white font-semibold text-base\",\n        component: Text,\n        children: \"Qual seu comprometimento?\"\n      }), _jsx(_StyledComponent, {\n        className: \"h-12 pl-4 rounded-lg mt-3 bg-zinc-900 text-white border-2 border-zinc-800 focus:border-green-600\",\n        placeholder: \"Exerc\\xEDcios, dormir bem, etc...\",\n        placeholderTextColor: colors.zinc[400],\n        onChangeText: setTitle,\n        value: title,\n        component: TextInput\n      }), _jsx(_StyledComponent, {\n        className: \"font-semibold mt-4 mb-3 text-white text-base\",\n        component: Text,\n        children: \"Qual a recorr\\xEAncia?\"\n      }), availableWeekDays.map(function (weekDay, index) {\n        return _jsx(CheckBox, {\n          title: weekDay,\n          checked: weekDays.includes(index),\n          onPress: function onPress() {\n            return handleToggleWeekDay(index);\n          }\n        }, weekDay);\n      }), _jsxs(_StyledComponent, {\n        className: \"w-full h-14 flex-row items-center justify-center bg-green-600 rounded-md mt-6\",\n        activeOpacity: 0.7,\n        onPress: handleCreateNewHabit,\n        component: TouchableOpacity,\n        children: [_jsx(Feather, {\n          name: \"check\",\n          size: 20,\n          color: colors.white\n        }), _jsx(_StyledComponent, {\n          className: \"font-semibold text-base text-white ml-2\",\n          component: Text,\n          children: \"Confirmar\"\n        })]\n      })]\n    })\n  });\n}\n_NativeWindStyleSheet.create({\n  styles: {\n    \"mt-6\": {\n      \"marginTop\": 24\n    },\n    \"mt-3\": {\n      \"marginTop\": 12\n    },\n    \"mt-4\": {\n      \"marginTop\": 16\n    },\n    \"mb-3\": {\n      \"marginBottom\": 12\n    },\n    \"ml-2\": {\n      \"marginLeft\": 8\n    },\n    \"h-12\": {\n      \"height\": 48\n    },\n    \"h-14\": {\n      \"height\": 56\n    },\n    \"w-full\": {\n      \"width\": \"100%\"\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"rounded-lg\": {\n      \"borderTopLeftRadius\": 8,\n      \"borderTopRightRadius\": 8,\n      \"borderBottomRightRadius\": 8,\n      \"borderBottomLeftRadius\": 8\n    },\n    \"rounded-md\": {\n      \"borderTopLeftRadius\": 6,\n      \"borderTopRightRadius\": 6,\n      \"borderBottomRightRadius\": 6,\n      \"borderBottomLeftRadius\": 6\n    },\n    \"border-2\": {\n      \"borderTopWidth\": 2,\n      \"borderRightWidth\": 2,\n      \"borderBottomWidth\": 2,\n      \"borderLeftWidth\": 2\n    },\n    \"border-zinc-800\": {\n      \"borderTopColor\": \"#27272a\",\n      \"borderRightColor\": \"#27272a\",\n      \"borderBottomColor\": \"#27272a\",\n      \"borderLeftColor\": \"#27272a\"\n    },\n    \"bg-background\": {\n      \"backgroundColor\": \"#09090A\"\n    },\n    \"bg-zinc-900\": {\n      \"backgroundColor\": \"#18181b\"\n    },\n    \"bg-green-600\": {\n      \"backgroundColor\": \"#16a34a\"\n    },\n    \"px-8\": {\n      \"paddingLeft\": 32,\n      \"paddingRight\": 32\n    },\n    \"pt-16\": {\n      \"paddingTop\": 64\n    },\n    \"pl-4\": {\n      \"paddingLeft\": 16\n    },\n    \"font-extrabold\": {\n      \"fontWeight\": \"800\"\n    },\n    \"font-semibold\": {\n      \"fontWeight\": \"600\"\n    },\n    \"text-white\": {\n      \"color\": \"#fff\"\n    },\n    \"text-3xl\": {\n      \"fontSize\": 30,\n      \"lineHeight\": 36\n    },\n    \"text-base\": {\n      \"fontSize\": 16,\n      \"lineHeight\": 24\n    },\n    \"focus:border-green-600\": {\n      \"borderTopColor\": \"#16a34a\",\n      \"borderRightColor\": \"#16a34a\",\n      \"borderBottomColor\": \"#16a34a\",\n      \"borderLeftColor\": \"#16a34a\"\n    }\n  },\n  masks: {\n    \"focus:border-green-600\": 512\n  }\n});","map":{"version":3,"names":["useState","Feather","BackButton","CheckBox","colors","api","availableWeekDays","New","title","setTitle","weekDays","setWeekDays","handleToggleWeekDay","weekDayIndex","includes","prevState","filter","weekDay","handleCreateNewHabit","trim","length","Alert","alert","post","error","console","log","paddingBottom","zinc","map","index","white"],"sources":["/home/gabrielviol/AULAS/nlw/nlw-setup/mobile/src/screens/New.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Alert, ScrollView, Text, TextInput, TouchableOpacity, View } from \"react-native\";\nimport { Feather } from '@expo/vector-icons'\n\nimport { BackButton } from \"../components/BackButton\";\nimport { CheckBox } from \"../components/CheckBox\";\nimport colors from \"tailwindcss/colors\";\nimport { api } from \"../lib/axios\";\n\nconst availableWeekDays = ['Domingo', 'Segunda-Feira', 'Terça-Feira', 'Quarta-Feira', 'Quinta-Feira', 'Sexta-Feira', 'Sábado']\n\nexport function New() {\n    const [title, setTitle] = useState('')\n    const [ weekDays, setWeekDays ] = useState<number[]>([]);\n\n    function handleToggleWeekDay(weekDayIndex: number){\n        if(weekDays.includes(weekDayIndex)){\n            setWeekDays(prevState => prevState.filter(weekDay => weekDay !== weekDayIndex));\n        }else{\n            setWeekDays(prevState => [...prevState, weekDayIndex]);\n        }\n    }\n\n    async function handleCreateNewHabit() {\n        try{\n            if(!title.trim() || weekDays.length === 0){\n                Alert.alert('Erro ao criar', 'Informe o nome do hábito e escolha a periodicidade.')\n            }\n\n            await api.post('/habits', {title, weekDays});\n\n            setTitle('')\n            setWeekDays([]);\n\n            Alert.alert('Novo hábito', 'Hábito criado com sucesso!')\n        }catch(error){\n            console.log(error);\n            Alert.alert('Ops', 'Não foi possível criar o novo hábito.');\n        }\n    }\n\n    return (\n        <View className=\"flex-1 bg-background px-8 pt-16\">\n            <ScrollView \n                showsVerticalScrollIndicator={false}\n                contentContainerStyle={{ paddingBottom: 100 }}\n            >\n                <BackButton />\n\n                <Text className=\"mt-6 text-white font-extrabold text-3xl\">\n                    Criar hábito\n                </Text>\n\n                <Text className=\"mt-6 text-white font-semibold text-base\">\n                    Qual seu comprometimento?\n                </Text>\n\n                <TextInput\n                    className=\"h-12 pl-4 rounded-lg mt-3 bg-zinc-900 text-white border-2 border-zinc-800 focus:border-green-600\"\n                    placeholder=\"Exercícios, dormir bem, etc...\"\n                    placeholderTextColor={colors.zinc[400]}\n                    onChangeText={setTitle}\n                    value={title}\n                />\n\n                <Text className=\"font-semibold mt-4 mb-3 text-white text-base\">\n                    Qual a recorrência?\n                </Text>\n\n                {\n                    availableWeekDays.map((weekDay, index) => (\n                        <CheckBox\n                            key={weekDay}\n                            title={weekDay}\n                            checked={weekDays.includes(index)}\n                            onPress={() => handleToggleWeekDay(index)}\n                        />\n                    ))\n                }\n\n                <TouchableOpacity\n                    className=\"w-full h-14 flex-row items-center justify-center bg-green-600 rounded-md mt-6\"\n                    activeOpacity={0.7}\n                    onPress={handleCreateNewHabit}\n                >\n                    <Feather\n                        name=\"check\"\n                        size={20}\n                        color={colors.white}\n                    />\n\n                    <Text className=\"font-semibold text-base text-white ml-2\">\n                        Confirmar\n                    </Text>\n                </TouchableOpacity>\n            </ScrollView>\n\n        </View>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}